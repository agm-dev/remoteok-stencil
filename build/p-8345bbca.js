import"./p-1afcc0cc.js";import"./p-3e9c62cb.js";import"./p-fe44e552.js";import{g as t}from"./p-9c49b437.js";import{c as o}from"./p-33d32951.js";const n=t=>document.querySelector(`${t}.ion-cloned-element`),a=t=>t.shadowRoot||t,s=t=>t.querySelector("ion-header:not(.header-collapse-condense-inactive) ion-title[size=large]"),e=(t,o)=>{const n=t.querySelectorAll("ion-buttons");for(const a of n){const t=a.closest("ion-header"),n=t&&!t.classList.contains("header-collapse-condense-inactive"),s=a.querySelector("ion-back-button"),e=a.classList.contains("buttons-collapse"),r="start"===a.slot||""===a.slot;if(null!==s&&r&&(e&&n&&o||!e))return s}return null},r=(t,s,e,r,l,i)=>{const c=s?`calc(100% - ${i.right+4}px)`:`${i.left-4}px`,p=s?"7px":"-7px",f=s?"-4px":"4px",d=s?"-4px":"4px",$=s?"right":"left",m=s?"left":"right",b=e?[{offset:0,opacity:1,transform:`translate3d(${f}, ${i.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${p}, ${l.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${p}, ${l.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${f}, ${i.top-46}px, 0) scale(1)`}],u=e?[{offset:0,opacity:1,transform:`translate3d(${d}, ${i.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${i.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${i.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${i.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${i.top-46}px, 0) scale(1)`}],X=o(),x=o(),y=n("ion-back-button"),h=a(y).querySelector(".button-text"),g=a(y).querySelector("ion-icon");y.text=r.text,y.mode=r.mode,y.icon=r.icon,y.color=r.color,y.disabled=r.disabled,y.style.setProperty("display","block"),y.style.setProperty("position","fixed"),x.addElement(g),X.addElement(h),X.beforeStyles({"transform-origin":`${$} center`}).beforeAddWrite(()=>{r.style.setProperty("display","none"),y.style.setProperty($,c)}).afterAddWrite(()=>{r.style.setProperty("display",""),y.style.setProperty("display","none"),y.style.removeProperty($)}).keyframes(b),x.beforeStyles({"transform-origin":`${m} center`}).keyframes(u),t.addAnimation([X,x])},l=(t,a,s,e,r,l)=>{const i=a?`calc(100% - ${e.right}px)`:`${e.left}px`,c=a?"-18px":"18px",p=a?"right":"left",f=s?[{offset:0,opacity:0,transform:`translate3d(${c}, ${l.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${r.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${r.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${c}, ${l.top-4}px, 0) scale(0.5)`}],d=n("ion-title"),$=o();d.innerText=e.innerText,d.size=e.size,d.color=e.color,$.addElement(d),$.beforeStyles({"transform-origin":`${p} center`,height:"46px",display:"",position:"relative",[p]:i}).beforeAddWrite(()=>{e.style.setProperty("display","none")}).afterAddWrite(()=>{e.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(f),t.addAnimation($)},i=(n,i)=>{try{const c="cubic-bezier(0.32,0.72,0,1)",p="opacity",f="transform",d="0%",$=.8,m="rtl"===n.ownerDocument.dir,b=m?"-99.5%":"99.5%",u=m?"33%":"-33%",X=i.enteringEl,x=i.leavingEl,y="back"===i.direction,h=X.querySelector(":scope > ion-content"),g=X.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),v=X.querySelectorAll(":scope > ion-header > ion-toolbar"),k=o(),w=o();if(k.addElement(X).duration(i.duration||540).easing(i.easing||c).fill("both").beforeRemoveClass("ion-page-invisible"),x&&n){const t=o();t.addElement(n),k.addAnimation(t)}if(h||0!==v.length||0!==g.length?(w.addElement(h),w.addElement(g)):w.addElement(X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),k.addAnimation(w),y?w.beforeClearStyles([p]).fromTo("transform",`translateX(${u})`,`translateX(${d})`).fromTo(p,$,1):w.beforeClearStyles([p]).fromTo("transform",`translateX(${b})`,`translateX(${d})`),h){const t=a(h).querySelector(".transition-effect");if(t){const n=t.querySelector(".transition-cover"),a=t.querySelector(".transition-shadow"),s=o(),e=o(),r=o();s.addElement(t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),e.addElement(n).beforeClearStyles([p]).fromTo(p,0,.1),r.addElement(a).beforeClearStyles([p]).fromTo(p,.03,.7),s.addAnimation([e,r]),w.addAnimation([s])}}const j=X.querySelector("ion-header.header-collapse-condense"),{forward:T,backward:z}=((t,o,n,a,i)=>{const c=e(a,n),p=s(i),f=s(a),d=e(i,n),$=null!==c&&null!==p&&!n,m=null!==f&&null!==d&&n;if($){const a=p.getBoundingClientRect(),s=c.getBoundingClientRect();l(t,o,n,p,a,s),r(t,o,n,c,a,s)}else if(m){const a=f.getBoundingClientRect(),s=d.getBoundingClientRect();l(t,o,n,f,a,s),r(t,o,n,d,a,s)}return{forward:$,backward:m}})(k,m,y,X,x);if(v.forEach(t=>{var n;const s=o();s.addElement(t),k.addAnimation(s);const e=o();e.addElement(t.querySelector("ion-title"));const r=o(),l=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),i=t.closest("ion-header"),c=i&&i.classList.contains("header-collapse-condense-inactive");let f;f=l.filter(y?t=>{const o=t.classList.contains("buttons-collapse");return o&&!c||!o}:t=>!t.classList.contains("buttons-collapse")),r.addElement(f);const $=o();$.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const X=o();X.addElement(a(t).querySelector(".toolbar-background"));const x=o(),h=t.querySelector("ion-back-button");if(h&&x.addElement(h),s.addAnimation([e,r,$,X,x]),r.fromTo(p,.01,1),$.fromTo(p,.01,1),y)c||e.fromTo("transform",`translateX(${u})`,`translateX(${d})`).fromTo(p,.01,1),$.fromTo("transform",`translateX(${u})`,`translateX(${d})`),x.fromTo(p,.01,1);else if(j||e.fromTo("transform",`translateX(${b})`,`translateX(${d})`).fromTo(p,.01,1),$.fromTo("transform",`translateX(${b})`,`translateX(${d})`),X.beforeClearStyles([p,"transform"]),(null===(n=i)||void 0===n?void 0:n.translucent)?X.fromTo("transform",m?"translateX(-100%)":"translateX(100%)","translateX(0px)"):X.fromTo(p,.01,1),T||x.fromTo(p,.01,1),h&&!T){const t=o();t.addElement(a(h).querySelector(".button-text")).fromTo("transform",m?"translateX(-100px)":"translateX(100px)","translateX(0px)"),s.addAnimation(t)}}),x){const n=o(),s=x.querySelector(":scope > ion-content");if(n.addElement(s),n.addElement(x.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *")),k.addAnimation(n),y){n.beforeClearStyles([p]).fromTo("transform",`translateX(${d})`,m?"translateX(-100%)":"translateX(100%)");const o=t(x);k.afterAddWrite(()=>{"normal"===k.getDirection()&&o.style.setProperty("display","none")})}else n.fromTo("transform",`translateX(${d})`,`translateX(${u})`).fromTo(p,1,$);if(s){const t=a(s).querySelector(".transition-effect");if(t){const a=t.querySelector(".transition-cover"),s=t.querySelector(".transition-shadow"),e=o(),r=o(),l=o();e.addElement(t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),r.addElement(a).beforeClearStyles([p]).fromTo(p,.1,0),l.addElement(s).beforeClearStyles([p]).fromTo(p,.7,.03),e.addAnimation([r,l]),n.addAnimation([e])}}x.querySelectorAll(":scope > ion-header > ion-toolbar").forEach(t=>{var n;const s=o();s.addElement(t);const e=o();e.addElement(t.querySelector("ion-title"));const r=o(),l=t.querySelectorAll("ion-buttons,[menuToggle]"),i=t.closest("ion-header"),c=i&&i.classList.contains("header-collapse-condense-inactive"),$=Array.from(l).filter(t=>{const o=t.classList.contains("buttons-collapse");return o&&!c||!o});r.addElement($);const b=o(),X=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");X.length>0&&b.addElement(X);const x=o();x.addElement(a(t).querySelector(".toolbar-background"));const h=o(),g=t.querySelector("ion-back-button");if(g&&h.addElement(g),s.addAnimation([e,r,b,h,x]),k.addAnimation(s),h.fromTo(p,.99,0),r.fromTo(p,.99,0),b.fromTo(p,.99,0),y){if(c||e.fromTo("transform",`translateX(${d})`,m?"translateX(-100%)":"translateX(100%)").fromTo(p,.99,0),b.fromTo("transform",`translateX(${d})`,m?"translateX(-100%)":"translateX(100%)"),x.beforeClearStyles([p,"transform"]),(null===(n=i)||void 0===n?void 0:n.translucent)?x.fromTo("transform","translateX(0px)",m?"translateX(-100%)":"translateX(100%)"):x.fromTo(p,.99,0),g&&!z){const t=o();t.addElement(a(g).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(m?-124:124)+"px"})`),s.addAnimation(t)}}else c||e.fromTo("transform",`translateX(${d})`,`translateX(${u})`).fromTo(p,.99,0).afterClearStyles([f,p]),b.fromTo("transform",`translateX(${d})`,`translateX(${u})`).afterClearStyles([f,p]),h.afterClearStyles([p]),e.afterClearStyles([p]),r.afterClearStyles([p])})}return k}catch(c){throw c}};export{i as iosTransitionAnimation,a as shadow};